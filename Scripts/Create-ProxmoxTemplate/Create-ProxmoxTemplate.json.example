{
  "globalSettings": {
    "storagePool": "auto",
    "downloadDirectory": "/tmp/proxmox-templates",
    "imageCacheHours": 8,
    "tags": [],
    "randomPassword": {
      "enabled": false,
      "length": 12,
      "specialChars": "!@#$%^&*()-_=+[]{}|;:,.<>?"
    },
    "orchestratorPackages": [
      "jq",
      "libguestfs-tools",
      "virt-v2v",
      "apg",
      "openssl",
      "curl"
    ],
    "templatePackages": [
      "qemu-guest-agent",
      "curl",
      "wget",
      "snapd",
      "net-tools",
      "lsb-release",
      "spice-webdavd",
      "openssl",
      "cifs-utils",
      "nfs-common",
      "whois",
      "traceroute",
      "btrfs-progs",
      "zfsutils-linux",
      "cloud-guest-utils",
      "pcregrep",
      "unattended-upgrades",
      "python3",
      "software-properties-common",
      "iptables-persistent"
    ],
    "smbios": {
      "manufacturer": "Proxmox",
      "product": "Virtual Machine",
      "version": "9",
      "sku": "KVM",
      "family": "Proxmox"
    },
    "github": {
      "personalAccessToken": "",
      "username": "your-github-username",
      "repo": "your-repo-name",
      "rootUrl": "https://api.github.com/repos",
      "contents": "contents",
      "query": "?ref=",
      "branch": "main",
      "mimeType": "application/vnd.github.v3.raw",
      "downloadsDirectory": "/downloads/cloud-init",
      "scripts": [
        {
          "enabled": true,
          "repoPath": "Scripts/PostDeploymentConfiguration.sh",
          "params": "--environment production --verbose",
          "description": "Post-deployment configuration script for VM setup"
        },
        {
          "enabled": false,
          "repoPath": "Scripts/ConfigureWindows.ps1",
          "params": "-Environment 'Production' -Verbose",
          "description": "PowerShell configuration script (requires installPowerShell: true)"
        }
      ]
    },
    "cloudInit": {
      "user": "admin",
      "password": "changeme",
      "nameserver": "8.8.8.8",
      "searchdomain": "example.com",
      "sshpublickey": ""
    }
  },
  "templates": [
    {
      "enabled": false,
      "vmid": "9000",
      "name": "Template-Ubuntu-LTS-2204",
      "imageUrl": "https://cloud-images.ubuntu.com/jammy/current/jammy-server-cloudimg-amd64.img",
      "osDiskSize": "64G",
      "dataDiskSize": "128G",
      "timezone": "America/New_York",
      "tags": [],
      "installPowerShell": true,
      "github": {"enabled": true},
      "vmHardware": {
        "cores": 16,
        "sockets": 1,
        "memory": 8192,
        "balloon": 4096,
        "cpu": "x86-64-v3",
        "machine": "q35",
        "bios": "ovmf",
        "scsihw": "virtio-scsi-single",
        "ostype": "l26"
      },
      "network": [
        {
          "firewall": 1,
          "bridge": "vmbr0",
          "gateway": "",
          "ip6": "",
          "gateway6": "",
          "ip": "",
          "vlan": "20"
        }
      ],
      "cloudInit": {},
      "packages": [],
      "virtCustomizeCommands": [
        "echo 'Example: This runs during image customization'",
        "touch /etc/template-marker-9000"
      ],
      "firstBootCommands": [
        "fwutil --public-tcp-ports 80,443,9000,10000",
        "curl -fsSL -o /tmp/webmin-setup-repo.sh https://raw.githubusercontent.com/webmin/webmin/master/webmin-setup-repo.sh",
        "sh /tmp/webmin-setup-repo.sh --force",
        "DEBIAN_FRONTEND=noninteractive apt-get update -y",
        "DEBIAN_FRONTEND=noninteractive apt-get install -y webmin --install-recommends",
        "systemctl enable webmin",
        "systemctl start webmin",
        "rm -f /tmp/webmin-setup-repo.sh"
      ]
    },
    {
      "enabled": true,
      "vmid": "9001",
      "name": "Template-Ubuntu-LTS-2404",
      "imageUrl": "https://cloud-images.ubuntu.com/noble/current/noble-server-cloudimg-amd64.img",
      "osDiskSize": "64G",
      "dataDiskSize": "128G",
      "timezone": "America/New_York",
      "tags": ["ubuntu", "lts", "v24.04"],
      "installPowerShell": true,
      "github": {"enabled": true},
      "vmHardware": {
        "cores": 16,
        "sockets": 1,
        "memory": 8192,
        "balloon": 4096,
        "cpu": "x86-64-v3",
        "machine": "q35",
        "bios": "ovmf",
        "scsihw": "virtio-scsi-single",
        "ostype": "l26"
      },
      "network": [
        {
          "firewall": 1,
          "bridge": "vmbr0",
          "gateway": "",
          "ip6": "",
          "gateway6": "",
          "ip": "",
          "vlan": "20"
        }
      ],
      "cloudInit": {},
      "packages": ["docker.io"],
      "virtCustomizeCommands": [],
      "firstBootCommands": [
        "systemctl enable docker",
        "systemctl start docker"
      ]
    },
    {
      "enabled": false,
      "vmid": "9002",
      "name": "Template-Debian-12",
      "imageUrl": "https://cloud.debian.org/images/cloud/bookworm/latest/debian-12-generic-amd64.qcow2",
      "osDiskSize": "64G",
      "dataDiskSize": "128G",
      "timezone": "America/New_York",
      "tags": [],
      "installPowerShell": true,
      "github": {"enabled": true},
      "vmHardware": {
        "cores": 16,
        "sockets": 1,
        "memory": 8192,
        "balloon": 4096,
        "cpu": "x86-64-v3",
        "machine": "q35",
        "bios": "ovmf",
        "scsihw": "virtio-scsi-single",
        "ostype": "l26"
      },
      "network": [
        {
          "firewall": 1,
          "bridge": "vmbr0",
          "gateway": "",
          "ip6": "",
          "gateway6": "",
          "ip": "",
          "vlan": "20"
        }
      ],
      "cloudInit": {},
      "packages": ["htop", "iotop"],
      "virtCustomizeCommands": [
        "mkdir -p /opt/scripts",
        "chmod 755 /opt/scripts"
      ],
      "firstBootCommands": [
        "apt-get update && apt-get upgrade -y"
      ]
    }
  ]
}
